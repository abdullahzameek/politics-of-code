<!DOCTYPE html>
<html>
<head>
  <title>forms</title>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
</head>
<body>
  <style>
  div{
    display: inline;
    float: left;
  }
  </style>
  <h1>NYUAD Housing Application</h1>
  <hr />
  <form action="/submit" method="POST">
    <div>
      
    
    <label for="user_name">name</label><br />
    <input name="name"></input><br />
    <br />
    </div>
    <div>
      
    <label for="user_age">age</label><br />
    <input name="age"></input><br />
    <br />
    </div>
    <div>
      
    <label for="user_gender">gender</label><br />
    <input type="text" name="gender"></input><br />
    <br />
    </div>
    <div>
      
    <label for="user_home">distance from home</label><br />
    <input type="text" name="home"></input><br />
    <br />
    </div>
    <div>
      
    <label for="user_income">family income</label><br />
    <input type="text" name="income"></input><br />
    <br />
    </div>
    <div>
      
    <label for="user_history">medical history</label><br />
    <input type="text" name="history"></input><br />
    <br />
    </div>
    <div>
      
    <label for="user_class">class</label><br />
    <input type="text" name="class"></input><br />
    <br />
    </div>
    <input type="checkbox" name="check"/>
    <button type="submit">submit my answers!</button>
  </form>
  <br /><br />
  
  <script>
  
  //this function submits information without reloading the page
  //convenience vs. clarity
  function surreptitiousSend(){
    
    //first we get the value from the first input field
    var name = document.getElementsByTagName('input')[0].value;
    
    //we put that into an object (JSON)
    var user = {
      user_name: name
    }
    
    
    //here is the actual sending of data
    //more information at http://www.aaronsw.com/weblog/ajaxhistory
    $.ajax({
      method: "POST", //this will be handled server-side by "app.post"
      url: "/submit", //this will be handled server-side by "app.post('/submit')"
      data: user //this is our actual data, declared on line 46-48
    }).done(function(response){//this is the function called when the server sends us an answer
      console.log(response);//and we just log it. we could also display it to the user, if we wanted
    });
  }
  
  </script>
</body>
</html>